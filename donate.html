<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="basketball, youth sports, fundraising, nonprofit, HoopFund, donations, teams, leagues">
    <title>Donate</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      body {
        background-image: url('images/donate-background.jpg');
        background-attachment: scroll;
        background-repeat: no-repeat;
        height: 100vh;
        overflow-x: hidden;
      }

      .form-content {
        margin-top: 80px; 
      }
    </style>
  </head>
  <body>
    <!-- Fixed Header -->
    <header>
      <a href="index.html">
        <img src="images/logo.jpg" alt="Logo" class="logo" />
      </a>
      <nav>
        <button class="menu-toggle">â˜°</button>
        <ul class="menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="register.html">Register</a></li>
          <li><a href="leagues.html">Leagues</a></li>
          <li><a href="testimonials.html">Testimonials</a></li>
          <li><a href="contact.html">Contact Us</a></li>
          <li><a href="about.html">About Us</a></li>
          <li class="donate"><a href="donate.html">Donate</a></li>
        </ul>
      </nav>
    </header>

    <main>
    <div class="form-content">
      <div class="form-container">
        <h1>Donate Today</h1>
        <form action="#" method="POST" id="donate-form">
          <label for="name">Your Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            placeholder="Enter your name"
          />

          <label for="email">Your Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Enter your email"
          />

          <label for="league">League:</label>
          <input
            type="text"
            id="league"
            name="league"
            placeholder="Enter your team's league"
          />

          <label for="team">Team:</label>
          <input
            type="text"
            id="team"
            name="team"
            placeholder="Enter the team you will donate to"
          />

          <label for="donation">Donation:</label>
          <input
            type="number"
            id="donation"
            name="donation"
            min="1"
            step="0.01"
            placeholder="Enter an amount"
          />

          <label for="message">Your Message (Optional):</label>
          <textarea
            id="message"
            name="message"
            rows="5"
            placeholder="Write your message here"
          ></textarea>

          <button type="submit" id="submit">Donate Now</button>
        </form>
      </div>
    </div>
    <br />
    <br />
    </main>

    <footer>
      <p>&copy; 2025 HoopFund. All Rights Reserved.</p>
    </footer>

    <script>
      // set up the page
      window.onload = function() {
        // set up menu toggle for small screens
        const menuToggle = document.querySelector('.menu-toggle')
        const menu = document.querySelector('.menu')

        menuToggle.addEventListener('click', function () {
          menu.classList.toggle('active')
        })

        document.getElementById('donate-form').addEventListener('submit', formSubmitted)
      }

      // Form verification. Checks that all required fields are filled and 
      // any email is valid
      function formSubmitted(event) {
        event.preventDefault() // Prevent form submission

        let valid = true
        let error = 'The following fields must be filled:'
        let name = document.getElementById('name').value
        if (name === '') {
          error += '\n    Your Name:'
          valid = false
        }
        let email = document.getElementById('email').value
        if (email === '') {
          error += '\n    Your Email:'
          valid = false
        }

        if (document.getElementById('league').value === '') {
          error += '\n    League:'
          valid = false
        }

        if (document.getElementById('team').value === '') {
          error += '\n    Team:'
          valid = false
        }

        if (document.getElementById('donation').value === '') {
          error += '\n    Donation:'
          valid = false
        }
    
        if (!valid) {
          if (!email.includes('@') || !(email.indexOf('.') > email.indexOf('@'))) 
          {
            error += '\nAlso, the email you entered "' + email + '" is invalid.'
          }
          alert(error)
        } else if (
          !(email.includes('@') && email.indexOf('.') > email.indexOf('@'))
        ) {
          alert('The email you entered "' + email + '" is invalid.')
        } else {
          alert("Thank you very much for your donation " + name + "!")
          document.getElementById('donate-form').reset() // TODO: maybe ask professor if this is okay instead of submitting
        }
      }
    </script>
  </body>
</html>
